window.innerWidth<768&&[].slice.call(document.querySelectorAll("[data-bss-disabled-mobile]")).forEach((function(e){e.classList.remove("animated"),e.removeAttribute("data-bss-hover-animate"),e.removeAttribute("data-aos"),e.removeAttribute("data-bss-parallax-bg"),e.removeAttribute("data-bss-scroll-zoom")})),document.addEventListener("DOMContentLoaded",(function(){[].slice.call(document.querySelectorAll("[data-bss-hover-animate]")).forEach((function(e){e.addEventListener("mouseenter",(function(e){e.target.classList.add("animated",e.target.dataset.bssHoverAnimate)})),e.addEventListener("mouseleave",(function(e){e.target.classList.remove("animated",e.target.dataset.bssHoverAnimate)}))}));!function(){if("requestAnimationFrame"in window){var e=[],i=document.querySelectorAll("[data-bss-parallax-bg]");for(var t of i){var s=document.createElement("div");s.style.backgroundImage=t.style.backgroundImage,s.style.backgroundSize="cover",s.style.backgroundPosition="center",s.style.position="absolute",s.style.height="200%",s.style.width="100%",s.style.top=0,s.style.left=0,s.style.zIndex=-100,t.appendChild(s),e.push(s),t.style.position="relative",t.style.background="transparent",t.style.overflow="hidden"}if(e.length){var n,o=[];window.addEventListener("scroll",a),window.addEventListener("resize",a),a()}}function a(){o.length=0;for(var i=0;i<e.length;i++){var t=e[i].parentNode.getBoundingClientRect();t.bottom>0&&t.top<window.innerHeight&&o.push({rect:t,node:e[i]})}cancelAnimationFrame(n),o.length&&(n=requestAnimationFrame(r))}function r(){for(var e=0;e<o.length;e++){var i=o[e].rect,t=o[e].node,s=Math.max(i.bottom,0)/(window.innerHeight+i.height);t.style.transform="translate3d(0, "+-50*s+"%, 0)"}}}()}),!1),function(e){e(document).ready((function(){e("body").append('<div id="supersized-loader"></div><ul id="supersized"></ul>')})),e.supersized=function(i){var t="#supersized",s=this;s.$el=e(t),s.el=t,vars=e.supersized.vars,s.$el.data("supersized",s),api=s.$el.data("supersized"),s.init=function(){e.supersized.vars=e.extend(e.supersized.vars,e.supersized.themeVars),e.supersized.vars.options=e.extend({},e.supersized.defaultOptions,e.supersized.themeOptions,i),s.options=e.supersized.vars.options,s._build()},s._build=function(){for(var i,t=0,n="",o="",a="";t<=s.options.slides.length-1;){switch(s.options.slide_links){case"num":i=t;break;case"name":i=s.options.slides[t].title;break;case"blank":i=""}n=n+'<li class="slide-'+t+'"></li>',t==s.options.start_slide-1?(s.options.slide_links&&(o=o+'<li class="slide-link-'+t+' current-slide"><a>'+i+"</a></li>"),s.options.thumb_links&&(a=a+'<li class="thumb'+t+' current-thumb"><img src="'+(s.options.slides[t].thumb?s.options.slides[t].thumb:s.options.slides[t].image)+'"/></li>')):(s.options.slide_links&&(o=o+'<li class="slide-link-'+t+'" ><a>'+i+"</a></li>"),s.options.thumb_links&&(a=a+'<li class="thumb'+t+'"><img src="'+(s.options.slides[t].thumb?s.options.slides[t].thumb:s.options.slides[t].image)+'"/></li>')),t++}s.options.slide_links&&e(vars.slide_list).html(o),s.options.thumb_links&&vars.thumb_tray.length&&e(vars.thumb_tray).append('<ul id="'+vars.thumb_list.replace("#","")+'">'+a+"</ul>"),e(s.el).append(n),s.options.thumbnail_navigation&&(vars.current_slide-1<0?prevThumb=s.options.slides.length-1:prevThumb=vars.current_slide-1,e(vars.prev_thumb).show().html(e("<img/>").attr("src",s.options.slides[prevThumb].image)),vars.current_slide==s.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1,e(vars.next_thumb).show().html(e("<img/>").attr("src",s.options.slides[nextThumb].image))),s._start()},s._start=function(){s.options.start_slide?vars.current_slide=s.options.start_slide-1:vars.current_slide=Math.floor(Math.random()*s.options.slides.length);var i=s.options.new_window?' target="_blank"':"";if(3==s.options.performance?s.$el.addClass("speed"):(1==s.options.performance||2==s.options.performance)&&s.$el.addClass("quality"),s.options.random){arr=s.options.slides;for(var t,n,o=arr.length;o;t=parseInt(Math.random()*o),n=arr[--o],arr[o]=arr[t],arr[t]=n);s.options.slides=arr}if(s.options.slides.length>1){if(s.options.slides.length>2){vars.current_slide-1<0?loadPrev=s.options.slides.length-1:loadPrev=vars.current_slide-1;var a=s.options.slides[loadPrev].url?"href='"+s.options.slides[loadPrev].url+"'":"",r=e('<img src="'+s.options.slides[loadPrev].image+'"/>'),l=s.el+" li:eq("+loadPrev+")";r.appendTo(l).wrap("<a "+a+i+"></a>").parent().parent().addClass("image-loading prevslide"),r.load((function(){e(this).data("origWidth",e(this).width()).data("origHeight",e(this).height()),s.resizeNow()}))}}else s.options.slideshow=0;a=api.getField("url")?"href='"+api.getField("url")+"'":"";var d=e('<img src="'+api.getField("image")+'"/>'),p=s.el+" li:eq("+vars.current_slide+")";if(d.appendTo(p).wrap("<a "+a+i+"></a>").parent().parent().addClass("image-loading activeslide"),d.load((function(){s._origDim(e(this)),s.resizeNow(),s.launch(),"undefined"!=typeof theme&&"function"==typeof theme._init&&theme._init()})),s.options.slides.length>1){vars.current_slide==s.options.slides.length-1?loadNext=0:loadNext=vars.current_slide+1,a=s.options.slides[loadNext].url?"href='"+s.options.slides[loadNext].url+"'":"";var h=e('<img src="'+s.options.slides[loadNext].image+'"/>'),c=s.el+" li:eq("+loadNext+")";h.appendTo(c).wrap("<a "+a+i+"></a>").parent().parent().addClass("image-loading"),h.load((function(){e(this).data("origWidth",e(this).width()).data("origHeight",e(this).height()),s.resizeNow()}))}s.$el.css("visibility","hidden"),e(".load-item").hide()},s.launch=function(){s.$el.css("visibility","visible"),e("#supersized-loader").remove(),"undefined"!=typeof theme&&"function"==typeof theme.beforeAnimation&&theme.beforeAnimation("next"),e(".load-item").show(),s.options.keyboard_nav&&e(document.documentElement).keyup((function(e){if(vars.in_animation)return!1;37==e.keyCode||40==e.keyCode?(clearInterval(vars.slideshow_interval),s.prevSlide()):39==e.keyCode||38==e.keyCode?(clearInterval(vars.slideshow_interval),s.nextSlide()):32!=e.keyCode||vars.hover_pause||(clearInterval(vars.slideshow_interval),s.playToggle())})),s.options.slideshow&&s.options.pause_hover&&e(s.el).hover((function(){if(vars.in_animation)return!1;vars.hover_pause=!0,vars.is_paused||(vars.hover_pause="resume",s.playToggle())}),(function(){"resume"==vars.hover_pause&&(s.playToggle(),vars.hover_pause=!1)})),s.options.slide_links&&e(vars.slide_list+"> li").click((function(){return index=e(vars.slide_list+"> li").index(this),targetSlide=index+1,s.goTo(targetSlide),!1})),s.options.thumb_links&&e(vars.thumb_list+"> li").click((function(){return index=e(vars.thumb_list+"> li").index(this),targetSlide=index+1,api.goTo(targetSlide),!1})),s.options.slideshow&&s.options.slides.length>1&&(s.options.autoplay&&s.options.slides.length>1?vars.slideshow_interval=setInterval(s.nextSlide,s.options.slide_interval):vars.is_paused=!0,e(".load-item img").bind("contextmenu mousedown",(function(){return!1}))),e(window).resize((function(){s.resizeNow()}))},s.resizeNow=function(){return s.$el.each((function(){return e("img",s.el).each((function(){function i(e){e?(thisSlide.width()<o||thisSlide.width()<s.options.min_width)&&(thisSlide.width()*n>=s.options.min_height?(thisSlide.width(s.options.min_width),thisSlide.height(thisSlide.width()*n)):t()):s.options.min_height>=a&&!s.options.fit_landscape?o*n>=s.options.min_height||o*n>=s.options.min_height&&n<=1?(thisSlide.width(o),thisSlide.height(o*n)):n>1?(thisSlide.height(s.options.min_height),thisSlide.width(thisSlide.height()/n)):thisSlide.width()<o&&(thisSlide.width(o),thisSlide.height(thisSlide.width()*n)):(thisSlide.width(o),thisSlide.height(o*n))}function t(e){e?thisSlide.height()<a&&(thisSlide.height()/n>=s.options.min_width?(thisSlide.height(s.options.min_height),thisSlide.width(thisSlide.height()/n)):i(!0)):s.options.min_width>=o?a/n>=s.options.min_width||n>1?(thisSlide.height(a),thisSlide.width(a/n)):n<=1&&(thisSlide.width(s.options.min_width),thisSlide.height(thisSlide.width()*n)):(thisSlide.height(a),thisSlide.width(a/n))}thisSlide=e(this);var n=(thisSlide.data("origHeight")/thisSlide.data("origWidth")).toFixed(2),o=s.$el.width(),a=s.$el.height();s.options.fit_always?a/o>n?i():t():a<=s.options.min_height&&o<=s.options.min_width?a/o>n?s.options.fit_landscape&&n<1?i(!0):t(!0):s.options.fit_portrait&&n>=1?t(!0):i(!0):o<=s.options.min_width?a/o>n?s.options.fit_landscape&&n<1?i(!0):t():s.options.fit_portrait&&n>=1?t():i(!0):a<=s.options.min_height?a/o>n?s.options.fit_landscape&&n<1?i():t(!0):s.options.fit_portrait&&n>=1?t(!0):i():a/o>n?s.options.fit_landscape&&n<1?i():t():s.options.fit_portrait&&n>=1?t():i(),thisSlide.parents("li").hasClass("image-loading")&&e(".image-loading").removeClass("image-loading"),s.options.horizontal_center&&e(this).css("left",(o-e(this).width())/2),s.options.vertical_center&&e(this).css("top",(a-e(this).height())/2)})),s.options.image_protect&&e("img",s.el).bind("contextmenu mousedown",(function(){return!1})),!1}))},s.nextSlide=function(){if(vars.in_animation||!api.options.slideshow)return!1;vars.in_animation=!0,clearInterval(vars.slideshow_interval);s.options.slides;var i=s.$el.find(".activeslide");e(".prevslide").removeClass("prevslide"),i.removeClass("activeslide").addClass("prevslide"),vars.current_slide+1==s.options.slides.length?vars.current_slide=0:vars.current_slide++;var t=e(s.el+" li:eq("+vars.current_slide+")");s.$el.find(".prevslide");1==s.options.performance&&s.$el.removeClass("quality").addClass("speed"),loadSlide=!1,vars.current_slide==s.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;var n=s.el+" li:eq("+loadSlide+")";if(!e(n).html()){var o=s.options.new_window?' target="_blank"':"";imageLink=s.options.slides[loadSlide].url?"href='"+s.options.slides[loadSlide].url+"'":"";var a=e('<img src="'+s.options.slides[loadSlide].image+'"/>');a.appendTo(n).wrap("<a "+imageLink+o+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),a.load((function(){s._origDim(e(this)),s.resizeNow()}))}switch(1==s.options.thumbnail_navigation&&(vars.current_slide-1<0?prevThumb=s.options.slides.length-1:prevThumb=vars.current_slide-1,e(vars.prev_thumb).html(e("<img/>").attr("src",s.options.slides[prevThumb].image)),nextThumb=loadSlide,e(vars.next_thumb).html(e("<img/>").attr("src",s.options.slides[nextThumb].image))),"undefined"!=typeof theme&&"function"==typeof theme.beforeAnimation&&theme.beforeAnimation("next"),s.options.slide_links&&(e(".current-slide").removeClass("current-slide"),e(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")),t.css("visibility","hidden").addClass("activeslide"),s.options.transition){case 0:case"none":t.css("visibility","visible"),vars.in_animation=!1,s.afterAnimation();break;case 1:case"fade":t.css({opacity:0,visibility:"visible"}).animate({opacity:1,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()}));break;case 2:case"slideTop":t.css({top:-s.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()}));break;case 3:case"slideRight":t.css({left:s.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()}));break;case 4:case"slideBottom":t.css({top:s.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()}));break;case 5:case"slideLeft":t.css({left:-s.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()}));break;case 6:case"carouselRight":t.css({left:s.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()})),i.animate({left:-s.$el.width(),avoidTransforms:!1},s.options.transition_speed);break;case 7:case"carouselLeft":t.css({left:-s.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()})),i.animate({left:s.$el.width(),avoidTransforms:!1},s.options.transition_speed)}return!1},s.prevSlide=function(){if(vars.in_animation||!api.options.slideshow)return!1;vars.in_animation=!0,clearInterval(vars.slideshow_interval);s.options.slides;var i=s.$el.find(".activeslide");e(".prevslide").removeClass("prevslide"),i.removeClass("activeslide").addClass("prevslide"),0==vars.current_slide?vars.current_slide=s.options.slides.length-1:vars.current_slide--;var t=e(s.el+" li:eq("+vars.current_slide+")");s.$el.find(".prevslide");1==s.options.performance&&s.$el.removeClass("quality").addClass("speed"),loadSlide=vars.current_slide;var n=s.el+" li:eq("+loadSlide+")";if(!e(n).html()){var o=s.options.new_window?' target="_blank"':"";imageLink=s.options.slides[loadSlide].url?"href='"+s.options.slides[loadSlide].url+"'":"";var a=e('<img src="'+s.options.slides[loadSlide].image+'"/>');a.appendTo(n).wrap("<a "+imageLink+o+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),a.load((function(){s._origDim(e(this)),s.resizeNow()}))}switch(1==s.options.thumbnail_navigation&&(0==loadSlide?prevThumb=s.options.slides.length-1:prevThumb=loadSlide-1,e(vars.prev_thumb).html(e("<img/>").attr("src",s.options.slides[prevThumb].image)),vars.current_slide==s.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1,e(vars.next_thumb).html(e("<img/>").attr("src",s.options.slides[nextThumb].image))),"undefined"!=typeof theme&&"function"==typeof theme.beforeAnimation&&theme.beforeAnimation("prev"),s.options.slide_links&&(e(".current-slide").removeClass("current-slide"),e(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")),t.css("visibility","hidden").addClass("activeslide"),s.options.transition){case 0:case"none":t.css("visibility","visible"),vars.in_animation=!1,s.afterAnimation();break;case 1:case"fade":t.css({opacity:0,visibility:"visible"}).animate({opacity:1,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()}));break;case 2:case"slideTop":t.css({top:s.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()}));break;case 3:case"slideRight":t.css({left:-s.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()}));break;case 4:case"slideBottom":t.css({top:-s.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()}));break;case 5:case"slideLeft":t.css({left:s.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()}));break;case 6:case"carouselRight":t.css({left:-s.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()})),i.css({left:0}).animate({left:s.$el.width(),avoidTransforms:!1},s.options.transition_speed);break;case 7:case"carouselLeft":t.css({left:s.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},s.options.transition_speed,(function(){s.afterAnimation()})),i.css({left:0}).animate({left:-s.$el.width(),avoidTransforms:!1},s.options.transition_speed)}return!1},s.playToggle=function(){return vars.in_animation||!api.options.slideshow||(vars.is_paused?(vars.is_paused=!1,"undefined"!=typeof theme&&"function"==typeof theme.playToggle&&theme.playToggle("play"),vars.slideshow_interval=setInterval(s.nextSlide,s.options.slide_interval)):(vars.is_paused=!0,"undefined"!=typeof theme&&"function"==typeof theme.playToggle&&theme.playToggle("pause"),clearInterval(vars.slideshow_interval))),!1},s.goTo=function(i){if(vars.in_animation||!api.options.slideshow)return!1;var t=s.options.slides.length;if(i<0?i=t:i>t&&(i=1),i=t-i+1,clearInterval(vars.slideshow_interval),"undefined"!=typeof theme&&"function"==typeof theme.goTo&&theme.goTo(),vars.current_slide==t-i)return vars.is_paused||(vars.slideshow_interval=setInterval(s.nextSlide,s.options.slide_interval)),!1;t-i>vars.current_slide?(vars.current_slide=t-i-1,vars.update_images="next",s._placeSlide(vars.update_images)):t-i<vars.current_slide&&(vars.current_slide=t-i+1,vars.update_images="prev",s._placeSlide(vars.update_images)),s.options.slide_links&&(e(vars.slide_list+"> .current-slide").removeClass("current-slide"),e(vars.slide_list+"> li").eq(t-i).addClass("current-slide")),s.options.thumb_links&&(e(vars.thumb_list+"> .current-thumb").removeClass("current-thumb"),e(vars.thumb_list+"> li").eq(t-i).addClass("current-thumb"))},s._placeSlide=function(i){var t=s.options.new_window?' target="_blank"':"";if(loadSlide=!1,"next"==i){vars.current_slide==s.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;var n=s.el+" li:eq("+loadSlide+")";if(!e(n).html()){t=s.options.new_window?' target="_blank"':"";imageLink=s.options.slides[loadSlide].url?"href='"+s.options.slides[loadSlide].url+"'":"",(o=e('<img src="'+s.options.slides[loadSlide].image+'"/>')).appendTo(n).wrap("<a "+imageLink+t+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),o.load((function(){s._origDim(e(this)),s.resizeNow()}))}s.nextSlide()}else if("prev"==i){vars.current_slide-1<0?loadSlide=s.options.slides.length-1:loadSlide=vars.current_slide-1;n=s.el+" li:eq("+loadSlide+")";if(!e(n).html()){var o;t=s.options.new_window?' target="_blank"':"";imageLink=s.options.slides[loadSlide].url?"href='"+s.options.slides[loadSlide].url+"'":"",(o=e('<img src="'+s.options.slides[loadSlide].image+'"/>')).appendTo(n).wrap("<a "+imageLink+t+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),o.load((function(){s._origDim(e(this)),s.resizeNow()}))}s.prevSlide()}},s._origDim=function(e){e.data("origWidth",e.width()).data("origHeight",e.height())},s.afterAnimation=function(){return 1==s.options.performance&&s.$el.removeClass("speed").addClass("quality"),vars.update_images&&(vars.current_slide-1<0?setPrev=s.options.slides.length-1:setPrev=vars.current_slide-1,vars.update_images=!1,e(".prevslide").removeClass("prevslide"),e(s.el+" li:eq("+setPrev+")").addClass("prevslide")),vars.in_animation=!1,!vars.is_paused&&s.options.slideshow&&(vars.slideshow_interval=setInterval(s.nextSlide,s.options.slide_interval),s.options.stop_loop&&vars.current_slide==s.options.slides.length-1&&s.playToggle()),"undefined"!=typeof theme&&"function"==typeof theme.afterAnimation&&theme.afterAnimation(),!1},s.getField=function(e){return s.options.slides[vars.current_slide][e]},s.init()},e.supersized.vars={thumb_tray:"#thumb-tray",thumb_list:"#thumb-list",slide_list:"#slide-list",current_slide:0,in_animation:!1,is_paused:!1,hover_pause:!1,slideshow_interval:!1,update_images:!1,options:{}},e.supersized.defaultOptions={slideshow:1,autoplay:1,start_slide:1,stop_loop:0,random:0,slide_interval:5e3,transition:1,transition_speed:750,new_window:1,pause_hover:0,keyboard_nav:1,performance:1,image_protect:1,fit_always:0,fit_landscape:0,fit_portrait:1,min_width:0,min_height:0,horizontal_center:1,vertical_center:1,slide_links:1,thumb_links:1,thumbnail_navigation:0},e.fn.supersized=function(i){return this.each((function(){new e.supersized(i)}))}}(jQuery),jQuery((function(e){e.supersized({slide_interval:3e3,transition:1,transition_speed:700,slide_links:"blank",slides:[{image:"bg-1.jpg"},{image:"bg-2.jpg"},{image:"bg-3.jpg"},{image:"bg-4.jpg"}]})})),function(){"use strict";!function(){if("requestAnimationFrame"in window&&!/Mobile|Android/.test(navigator.userAgent)){var e=document.querySelectorAll("[data-bss-parallax]");if(e.length){var i,t=[];window.addEventListener("scroll",s),window.addEventListener("resize",s),s()}}function s(){t.length=0;for(var s=0;s<e.length;s++){var o=e[s].getBoundingClientRect(),a=parseFloat(e[s].getAttribute("data-bss-parallax-speed"),10)||.5;o.bottom>0&&o.top<window.innerHeight&&t.push({speed:a,node:e[s]})}cancelAnimationFrame(i),t.length&&(i=requestAnimationFrame(n))}function n(){for(var e=0;e<t.length;e++){var i=t[e].node,s=t[e].speed;i.style.transform="translate3d(0, "+-window.scrollY*s+"px, 0)"}}}()}(),$(document).ready((function(){new Instafeed({get:"user",userId:"1489124166",limit:40,resolution:"standard_resolution",accessToken:"1489124166.1677ed0.e1c0797ee3ed4efdb8e8493255483d8b",sortBy:"most-recent",template:'<div class="col-lg-4 col-6 instaimg squareLook"><a href="{{link}}" title="{{caption}}" target="_blank"><img src="{{image}}" alt="{{caption}}" class="img-fluid"/></a></div>'}).run(),$(".gallery").magnificPopup({type:"image",delegate:"a",gallery:{enabled:!0}})})),function(){var e;e=function(){function e(e,i){var t,s;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof e)for(t in e)s=e[t],this.options[t]=s;this.context=null!=i?i:this,this.unique=this._genKey()}return e.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},e.prototype.next=function(){return!!this.hasNext()&&this.run(this.context.nextUrl)},e.prototype.run=function(i){var t,s;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&((s=document.createElement("script")).id="instafeed-fetcher",s.src=i||this._buildUrl(),document.getElementsByTagName("head")[0].appendChild(s),t="instafeedCache"+this.unique,window[t]=new e(this.options,this),window[t].unique=this.unique),!0},e.prototype.parse=function(e){var i,t,s,n,o,a,r,l,d,p,h,c,u,m,f,v,g,_,b,w,y,k,S,T,x,C,A,I;if("object"!=typeof e){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==e.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,e.meta.error_message),!1;throw new Error("Error from Instagram: "+e.meta.error_message)}if(0===e.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,e),this.context.nextUrl="",null!=e.pagination&&(this.context.nextUrl=e.pagination.next_url),"none"!==this.options.sortBy)switch(x="least"===(C="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"))[0],C[1]){case"random":e.data.sort((function(){return.5-Math.random()}));break;case"recent":e.data=this._sortBy(e.data,"created_time",x);break;case"liked":e.data=this._sortBy(e.data,"likes.count",x);break;case"commented":e.data=this._sortBy(e.data,"comments.count",x);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&!1===this.options.mock){if(c=e.data,T=parseInt(this.options.limit,10),null!=this.options.limit&&c.length>T&&(c=c.slice(0,T)),a=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(c=this._filter(c,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(r="","","",I=document.createElement("div"),l=0,w=c.length;l<w;l++){if("object"!=typeof(p=(d=c[l]).images[this.options.resolution]))throw o="No image found for resolution: "+this.options.resolution+".",new Error(o);f="square",(v=p.width)>(m=p.height)&&(f="landscape"),v<m&&(f="portrait"),h=p.url,window.location.protocol.indexOf("http")>=0&&!this.options.useHttp&&(h=h.replace(/https?:\/\//,"//")),r+=this._makeTemplate(this.options.template,{model:d,id:d.id,link:d.link,type:d.type,image:h,width:v,height:m,orientation:f,caption:this._getObjectProperty(d,"caption.text"),likes:d.likes.count,comments:d.comments.count,location:this._getObjectProperty(d,"location.name")})}for(I.innerHTML=r,n=[],s=0,t=I.childNodes.length;s<t;)n.push(I.childNodes[s]),s+=1;for(_=0,y=n.length;_<y;_++)S=n[_],a.appendChild(S)}else for(b=0,k=c.length;b<k;b++){if(d=c[b],u=document.createElement("img"),"object"!=typeof(p=d.images[this.options.resolution]))throw o="No image found for resolution: "+this.options.resolution+".",new Error(o);h=p.url,window.location.protocol.indexOf("http")>=0&&!this.options.useHttp&&(h=h.replace(/https?:\/\//,"//")),u.src=h,!0===this.options.links?((i=document.createElement("a")).href=d.link,i.appendChild(u),a.appendChild(i)):a.appendChild(u)}if("string"==typeof(A=this.options.target)&&(A=document.getElementById(A)),null==A)throw o='No element with id="'+this.options.target+'" on page.',new Error(o);A.appendChild(a),document.getElementsByTagName("head")[0].removeChild(document.getElementById("instafeed-fetcher")),g="instafeedCache"+this.unique,window[g]=void 0;try{delete window[g]}catch(e){e}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},e.prototype._buildUrl=function(){var e,i;switch("https://api.instagram.com/v1",this.options.get){case"popular":e="media/popular";break;case"tagged":if(!this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");e="tags/"+this.options.tagName+"/media/recent";break;case"location":if(!this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");e="locations/"+this.options.locationId+"/media/recent";break;case"user":if(!this.options.userId)throw new Error("No user specified. Use the 'userId' option.");e="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return i="https://api.instagram.com/v1/"+e,null!=this.options.accessToken?i+="?access_token="+this.options.accessToken:i+="?client_id="+this.options.clientId,null!=this.options.limit&&(i+="&count="+this.options.limit),i+="&callback=instafeedCache"+this.unique+".parse"},e.prototype._genKey=function(){var e;return""+(e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)})()+e()+e()+e()},e.prototype._makeTemplate=function(e,i){var t,s,n,o,a;for(s=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,t=e;s.test(t);)o=t.match(s)[1],a=null!=(n=this._getObjectProperty(i,o))?n:"",t=t.replace(s,(function(){return""+a}));return t},e.prototype._getObjectProperty=function(e,i){var t,s;for(s=(i=i.replace(/\[(\w+)\]/g,".$1")).split(".");s.length;){if(t=s.shift(),null==e||!(t in e))return null;e=e[t]}return e},e.prototype._sortBy=function(e,i,t){var s;return s=function(e,s){var n,o;return n=this._getObjectProperty(e,i),o=this._getObjectProperty(s,i),t?n>o?1:-1:n<o?1:-1},e.sort(s.bind(this)),e},e.prototype._filter=function(e,i){var t,s,n,o;for(t=[],s=function(e){if(i(e))return t.push(e)},n=0,o=e.length;n<o;n++)s(e[n]);return t},e}(),function(e,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof module&&module.exports?module.exports=i():e.Instafeed=i()}(this,(function(){return e}))}.call(this);